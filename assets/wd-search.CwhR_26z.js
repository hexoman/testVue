import{r as e,a1 as a,d as l,w as s,o as t,e as c,b as o,f as r,g as n,j as u,h as d,n as i,l as h,t as m,u as p,i as f,m as v,q as _,p as g,I as w}from"./index-DXU0MGIt.js";import{z as x,B as k,C as b,w as Y,b as y,a as C,m as $,e as M,r as V,_ as P,o as T}from"./wd-icon.DvcVfJo2.js";import{_ as W}from"./_plugin-vue_export-helper.BCo6x5W8.js";const F=e("zh-CN"),L=a({"zh-CN":{calendar:{placeholder:"请选择",title:"选择日期",day:"日",week:"周",month:"月",confirm:"确定",startTime:"开始时间",endTime:"结束时间",to:"至",timeFormat:"YY年MM月DD日 HH:mm:ss",dateFormat:"YYYY年MM月DD日",weekFormat:(e,a)=>`${e} 第 ${a} 周`,startWeek:"开始周",endWeek:"结束周",startMonth:"开始月",endMonth:"结束月",monthFormat:"YYYY年MM月"},calendarView:{startTime:"开始",endTime:"结束",weeks:{sun:"日",mon:"一",tue:"二",wed:"三",thu:"四",fri:"五",sat:"六"},rangePrompt:e=>`选择天数不能超过${e}天`,rangePromptWeek:e=>`选择周数不能超过${e}周`,rangePromptMonth:e=>`选择月份不能超过${e}个月`,monthTitle:"YYYY年M月",yearTitle:"YYYY年",month:"M月",hour:e=>`${e}时`,minute:e=>`${e}分`,second:e=>`${e}秒`},collapse:{expand:"展开",retract:"收起"},colPicker:{title:"请选择",placeholder:"请选择",select:"请选择"},datetimePicker:{start:"开始时间",end:"结束时间",to:"至",placeholder:"请选择",confirm:"完成",cancel:"取消"},loadmore:{loading:"正在努力加载中...",finished:"已加载完毕",error:"加载失败",retry:"点击重试"},messageBox:{inputPlaceholder:"请输入",confirm:"确定",cancel:"取消",inputNoValidate:"输入的数据不合法"},numberKeyboard:{confirm:"完成"},pagination:{prev:"上一页",next:"下一页",page:e=>`当前页：${e}`,total:e=>`当前数据：${e}条`,size:e=>`分页大小：${e}`},picker:{cancel:"取消",done:"完成",placeholder:"请选择"},imgCropper:{confirm:"完成",cancel:"取消"},search:{search:"搜索",cancel:"取消"},steps:{wait:"未开始",finished:"已完成",process:"进行中",failed:"失败"},tabs:{all:"全部"},upload:{error:"上传失败"},input:{placeholder:"请输入..."},selectPicker:{title:"请选择",placeholder:"请选择",select:"请选择",confirm:"确认",filterPlaceholder:"搜索"},tag:{placeholder:"请输入",add:"新增标签"},textarea:{placeholder:"请输入..."},tableCol:{indexLabel:"序号"}}}),S={messages:()=>L[F.value],use(e,a){F.value=e,a&&this.add({[e]:a})},add(e={}){x(L,e)}},j=e=>{const a=e?k(e)+".":"";return{translate:(e,...l)=>{const s=S.messages(),t=b(s,a+e);return Y(t)?t(...l):t}}},z=W(l({name:"wd-search",options:{virtualHost:!0,addGlobalClass:!0,styleIsolation:"shared"},props:{...y,modelValue:C(""),useSuffixSlot:$(!1),placeholder:String,cancelTxt:String,light:$(!1),hideCancel:$(!1),disabled:$(!1),maxlength:M(-1),placeholderLeft:$(!1),focus:$(!1),focusWhenClear:$(!1)},emits:["update:modelValue","change","clear","search","focus","blur","cancel"],setup(a,{emit:l}){const x=a,k=l,{translate:b}=j("search"),Y=e(!1),y=e(!1),C=e(""),$=e(!0),M=e(!1);s((()=>x.modelValue),(e=>{C.value=e,e&&(y.value=!0)}),{immediate:!0}),s((()=>x.focus),(e=>{if(e){if(x.disabled)return;S()}})),t((()=>{x.focus&&S()}));const W=c((()=>`wd-search  ${x.light?"is-light":""}  ${x.hideCancel?"is-without-cancel":""} ${x.customClass}`)),F=c((()=>{const e={display:""===C.value&&$.value?"flex":"none"};return T(e)}));function L(e){y.value=e,V((()=>{Y.value=e}))}function S(){x.disabled||V().then((()=>V())).then((()=>V())).then((()=>{$.value=!1,L(!0)}))}function z(e){C.value=e.detail.value,k("update:modelValue",e.detail.value),k("change",{value:e.detail.value})}function D(){C.value="",M.value=!0,x.focusWhenClear&&(Y.value=!1),V().then((()=>V())).then((()=>V())).then((()=>{x.focusWhenClear?($.value=!1,L(!0)):($.value=!0,L(!1)),k("change",{value:""}),k("update:modelValue",""),k("clear")}))}function I({detail:{value:e}}){k("search",{value:e})}function B(){M.value?M.value=!1:($.value=!1,k("focus",{value:C.value}))}function H(){M.value||($.value=!C.value,y.value=!$.value,Y.value=!1,k("blur",{value:C.value}))}function N(){k("cancel",{value:C.value})}return(e,a)=>{const l=_,s=g,t=w;return o(),r(s,{class:v(W.value),style:i(e.customStyle)},{default:n((()=>[u(s,{class:"wd-search__block"},{default:n((()=>[d(e.$slots,"prefix",{},void 0,!0),u(s,{class:"wd-search__field"},{default:n((()=>[e.placeholderLeft?f("",!0):(o(),r(s,{key:0,style:i(F.value),class:"wd-search__cover",onClick:S},{default:n((()=>[u(P,{name:"search","custom-class":"wd-search__search-icon"}),u(l,{class:"wd-search__placeholder-txt"},{default:n((()=>[h(m(e.placeholder||p(b)("search")),1)])),_:1})])),_:1},8,["style"])),y.value||C.value||e.placeholderLeft?(o(),r(P,{key:1,name:"search","custom-class":"wd-search__search-left-icon"})):f("",!0),y.value||C.value||e.placeholderLeft?(o(),r(t,{key:2,placeholder:e.placeholder||p(b)("search"),"placeholder-class":"wd-search__placeholder-txt","confirm-type":"search",modelValue:C.value,"onUpdate:modelValue":a[0]||(a[0]=e=>C.value=e),class:"wd-search__input",onFocus:B,onInput:z,onBlur:H,onConfirm:I,disabled:e.disabled,maxlength:e.maxlength,focus:Y.value},null,8,["placeholder","modelValue","disabled","maxlength","focus"])):f("",!0),C.value?(o(),r(P,{key:3,"custom-class":"wd-search__clear wd-search__clear-icon",name:"error-fill",onClick:D})):f("",!0)])),_:1})])),_:3}),e.hideCancel?f("",!0):d(e.$slots,"suffix",{key:0},(()=>[u(s,{class:"wd-search__cancel",onClick:N},{default:n((()=>[h(m(e.cancelTxt||p(b)("cancel")),1)])),_:1})]),!0)])),_:3},8,["class","style"])}}}),[["__scopeId","data-v-56eac0b2"]]);export{z as _,j as u};
